<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ site.description }}" />
  {% seo %}
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop stop-color='%231f6feb'/%3E%3Cstop offset='1' stop-color='%230ea5e9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='46' fill='url(%23g)'/%3E%3Ctext x='50' y='60' text-anchor='middle' font-size='48' font-family='Arial' fill='white'%3ET%3C/text%3E%3C/svg%3E" />
  <style>
    :root{
      --bg:#0a0f1f; --bg2:#0b1020; --panel:rgba(16,25,53,.7); --panel-solid:#101935;
      --text:#e6eaff; --muted:#a9b3d6; --accent:#4f80ff; --accent-2:#0ea5e9; --ok:#22c55e;
      --ring:rgba(79,128,255,.35); --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f7f9ff; --bg2:#eef3ff; --panel:rgba(255,255,255,.75); --panel-solid:#fff; --text:#0e101a; --muted:#56607a; --accent:#1f6feb; --accent-2:#0ea5e9; --ring:rgba(31,111,235,.25); --shadow:0 10px 20px rgba(0,0,0,.08) }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text); line-height:1.6; display:flex; flex-direction:column;
      background:
        radial-gradient(1200px 800px at 0% -10%, rgba(31,111,235,.10), transparent),
        radial-gradient(1000px 700px at 120% -10%, rgba(14,165,233,.10), transparent),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }
    .container{max-width:1100px;margin:0 auto;padding:28px}
    header{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
    .logo{width:48px;height:48px;border-radius:16px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;box-shadow:var(--shadow)}
    .logo span{color:white;font-weight:800;font-size:20px}
    .title{display:flex;flex-direction:column}
    .title h1{font-size:22px;line-height:1.2;margin:0}
    .title p{margin:2px 0 0;color:var(--muted);font-size:13px}

    .topbar{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .search{position:relative;flex:1;min-width:240px}
    .search input{width:100%;padding:12px 14px 12px 36px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:var(--panel);backdrop-filter:saturate(1.2) blur(8px);color:var(--text);outline:none;box-shadow:var(--shadow)}
    .search input:focus{border-color:var(--accent);box-shadow:0 0 0 6px var(--ring), var(--shadow)}
    .search svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);opacity:.6}
    a.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.10);text-decoration:none;background:var(--panel);backdrop-filter:saturate(1.2) blur(8px)}
    a.btn:hover{border-color:var(--accent)}

    .hero{margin-top:18px; padding:20px; border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.08); box-shadow:var(--shadow)}
    .hero h2{margin:0 0 6px; font-size:24px}
    .hero p{margin:0; color:var(--muted)}

    main{display:grid;grid-template-columns:repeat(12,1fr);gap:18px;margin-top:22px}
    .card{grid-column:span 12;background:var(--panel);backdrop-filter:saturate(1.2) blur(8px);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;border:1px solid rgba(255,255,255,.08)}
    .card h2{margin:0 0 10px;font-size:18px}
    .muted{color:var(--muted)}

    .quick-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .link-card{grid-column: span 12; display:flex;gap:14px;align-items:flex-start;text-decoration:none;color:inherit;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,.08);transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease}
    .link-card:hover{transform:translateY(-3px);border-color:var(--accent);box-shadow:0 12px 30px rgba(0,0,0,.25)}
    .link-icon{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:rgba(79,128,255,.15)}
    .link-meta{display:flex;flex-direction:column;gap:4px}
    .link-meta strong{font-size:15px}
    .link-meta span{font-size:13px;color:var(--muted)}

    .two-col{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .col{grid-column: span 12}

    footer{margin-top:auto}
    .foot{padding:22px 28px;color:var(--muted);font-size:12px}

    @media (min-width:700px){
      .card{padding:22px}
      .link-card{grid-column: span 6}
      .col{grid-column: span 6}
    }
    @media (min-width:1000px){
      .link-card{grid-column: span 3}
    }
    .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.25);font-size:12px}
    .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; background: rgba(0,0,0,.2); padding:2px 6px; border-radius:6px; border:1px solid rgba(255,255,255,.08)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <a class="brand" href="{{ '/' | relative_url }}" aria-label="Home">
        <div class="logo" aria-hidden="true"><span>TP</span></div>
        <div class="title">
          <h1>{{ site.title }}</h1>
          <p>{{ site.description }}</p>
        </div>
      </a>
      <div class="topbar">
        <div class="search" role="search">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M21.53 20.47l-3.73-3.73A8.5 8.5 0 1019 17l3.73 3.73a.75.75 0 11-1.06 1.06zM4 10.5a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"/></svg>
          <label for="q" class="sr-only">Filter links</label>
          <input id="q" type="search" placeholder="Filter links… (try 'auth')" oninput="filterLinks(this.value)" />
        </div>
        <a class="btn" href="#getting-started">Getting started</a>
      </div>
    </header>

    <section class="hero" aria-label="Intro">
      <h2>Welcome to your Team Portal</h2>
      <p>Quick access to chat, intel, networking, and MFA — with a clean, glassy look and dark/light theme.</p>
    </section>

    <main>
      <section class="card" aria-labelledby="announce-h">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
          <h2 id="announce-h">Announcements</h2>
          <span class="badge">Status: All systems nominal</span>
        </div>
        <p class="muted">Use `_data/announcements.yml` to manage these items.</p>
        <ul>
          {% for item in site.data.announcements %}
            <li>{{ item.text }}</li>
          {% endfor %}
        </ul>
      </section>

      <section class="card" aria-labelledby="quick-h">
        <h2 id="quick-h">Quick links</h2>
        <div class="quick-grid" id="link-grid">
          {% for link in site.data.links %}
          <a class="link-card" href="{{ link.url }}" {% if link.external %}target="_blank" rel="noopener noreferrer"{% endif %}>
            <div class="link-icon" aria-hidden="true">{{ link.icon }}</div>
            <div class="link-meta">
              <strong>{{ link.name }}</strong>
              <span>{{ link.desc }}</span>
              {% if link.note %}<span class="muted">{{ link.note }}</span>{% endif %}
            </div>
          </a>
          {% endfor %}
        </div>
      </section>

      <section class="two-col">
        <div class="card col" id="getting-started" aria-labelledby="start-h">
          <h2 id="start-h">Getting started</h2>
          {{ content }}
          <p class="muted">Tip: press <span class="kbd">/</span> to jump to the link filter.</p>
        </div>

        <div class="card col" id="resources" aria-labelledby="res-h">
          <h2 id="res-h">Resources</h2>
          <ul>
            <li><a href="#">On-call rotation</a> – who’s primary/secondary this week.</li>
            <li><a href="#">Runbooks</a> – incident checklists and playbooks.</li>
            <li><a href="#">New hire docs</a> – hardware, accounts, and security.</li>
            <li><a href="#">Status page</a> – uptime and maintenance windows.</li>
          </ul>
        </div>
      </section>
    </main>
  </div>

  <footer>
    <div class="foot container">
      © <span id="year"></span> {{ site.title }} • Built with Jekyll on GitHub Pages.
    </div>
  </footer>

  <script>
    function filterLinks(q){
      const term=(q||'').trim().toLowerCase();
      const items=document.querySelectorAll('#link-grid .link-card');
      items.forEach(a=>{const txt=a.textContent.toLowerCase(); a.style.display = txt.includes(term) ? '' : 'none';});
    }
    window.addEventListener('keydown',(e)=>{if(e.key==='/'&&!/input|textarea|select/i.test(document.activeElement.tagName)){e.preventDefault();document.getElementById('q').focus();}});
    document.getElementById('year').textContent=new Date().getFullYear();
  </script>
</body>
</html>